import{T as y,c as u,w as r,o as a,a as n,u as o,Z as k,e as d,i as _,t as m,f as e,j as w,v,b as $,d as c,h as x,F as T,B as M}from"./app-suJ7vQrJ.js";import{I as j,_ as f,e as B,f as C,b as p,c as N,d as S}from"./CardBox-CLhwNzdY.js";import{b as A,_ as D,a as O}from"./SectionTitleLineWithButton-DLgS6LHx.js";import{_ as V}from"./BaseButtons-DRXhuEtF.js";import{_ as F}from"./NotificationBar-BMEM61I1.js";import{_ as L,a as I}from"./Sort-BCxZ8BpE.js";import"./FormControl-wcKBEphQ.js";import"./BaseLevel-Bmmqlhm1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"py-2 flex"},H={class:"flex pl-4"},q={key:0},P={"data-label":"File"},U={class:"w-32 rounded"},Z=["innerHTML"],z={key:1},G=["src","alt"],J={"data-label":"Name"},K={"data-label":"variant_name"},Q={"data-label":"created_at"},R={key:0,class:"before:hidden lg:w-1 whitespace-nowrap"},W={class:"py-4"},de={__name:"Index",props:{items:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},can:{type:Object,default:()=>({})}},setup(l){const h=y({search:l.filters.search}),b=y({});function g(i){confirm("Are you sure you want to delete?")&&b.delete(route("admin.media.destroy",i))}return(i,s)=>(a(),u(A,null,{default:r(()=>[n(o(k),{title:"Media"}),n(O,null,{default:r(()=>[n(D,{icon:o(j),title:"Media",main:""},{default:r(()=>[l.can.delete?(a(),u(f,{key:0,"route-name":i.route("admin.media.create"),icon:o(B),label:"Add",color:"info","rounded-full":"",small:""},null,8,["route-name","icon"])):d("",!0)]),_:1},8,["icon"]),i.$page.props.flash.message?(a(),u(F,{key:Date.now(),color:"success",icon:o(C)},{default:r(()=>[_(m(i.$page.props.flash.message),1)]),_:1},8,["icon"])):d("",!0),n(p,{class:"mb-6","has-table":""},{default:r(()=>[e("form",{onSubmit:s[1]||(s[1]=$(t=>o(h).get(i.route("admin.media.index")),["prevent"]))},[e("div",E,[e("div",H,[w(e("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=t=>o(h).search=t),class:"rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Search"},null,512),[[v,o(h).search]]),n(f,{label:"Search",type:"submit",color:"info",class:"ml-4 inline-flex items-center px-4 py-2"})])])],32)]),_:1}),n(p,{class:"mb-6","has-table":""},{default:r(()=>[e("table",null,[e("thead",null,[e("tr",null,[s[2]||(s[2]=e("th",null,"File",-1)),e("th",null,[n(L,{label:"Name",attribute:"name"})]),s[3]||(s[3]=e("th",null,"Type",-1)),s[4]||(s[4]=e("th",null,"Created",-1)),l.can.edit||l.can.delete?(a(),c("th",q,"Actions")):d("",!0)])]),e("tbody",null,[(a(!0),c(T,null,x(l.items.data,t=>(a(),c("tr",{key:t.id},[e("td",P,[e("div",U,[t.aggregateType!=="image"?(a(),c("div",{key:0,innerHTML:t.mediaTypeIcon},null,8,Z)):(a(),c("div",z,[e("img",{src:t.url,alt:t.alt,class:"block h-auto w-full max-w-full bg-gray-100 dark:bg-slate-800"},null,8,G)]))])]),e("td",J,[n(o(M),{href:i.route("admin.media.show",t.id),class:"no-underline hover:underline text-cyan-600 dark:text-cyan-400"},{default:r(()=>[_(m(t.filename),1)]),_:2},1032,["href"])]),e("td",K,m(t.type),1),e("td",Q,m(new Date(t.createdAt).toLocaleString()),1),l.can.edit||l.can.delete?(a(),c("td",R,[n(V,{type:"justify-start lg:justify-end","no-wrap":""},{default:r(()=>[l.can.edit?(a(),u(f,{key:0,"route-name":i.route("admin.media.edit",t.id),color:"info",icon:o(N),small:""},null,8,["route-name","icon"])):d("",!0),l.can.delete?(a(),u(f,{key:1,color:"danger",icon:o(S),small:"",onClick:Y=>g(t.id)},null,8,["icon","onClick"])):d("",!0)]),_:2},1024)])):d("",!0)]))),128))])]),e("div",W,[n(I,{data:l.items},null,8,["data"])])]),_:1})]),_:1})]),_:1}))}};export{de as default};
